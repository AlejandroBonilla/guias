<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Express.js (MVC) | Guía de apoyo</title>
    <meta name="generator" content="VuePress 1.5.4">
    
    <meta name="description" content="guia curso 0047">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="preload" href="/assets/css/0.styles.2dae5f2c.css" as="style"><link rel="preload" href="/assets/js/app.871a14ca.js" as="script"><link rel="preload" href="/assets/js/2.d53447ec.js" as="script"><link rel="preload" href="/assets/js/4.d8a20a0b.js" as="script"><link rel="prefetch" href="/assets/js/10.4f7c424c.js"><link rel="prefetch" href="/assets/js/11.e46510b3.js"><link rel="prefetch" href="/assets/js/12.04a385aa.js"><link rel="prefetch" href="/assets/js/13.97741af5.js"><link rel="prefetch" href="/assets/js/14.1601b4bc.js"><link rel="prefetch" href="/assets/js/15.f6d6d9c1.js"><link rel="prefetch" href="/assets/js/16.3135591c.js"><link rel="prefetch" href="/assets/js/17.875c4585.js"><link rel="prefetch" href="/assets/js/18.efc1d622.js"><link rel="prefetch" href="/assets/js/19.c7765e18.js"><link rel="prefetch" href="/assets/js/3.ecfcf511.js"><link rel="prefetch" href="/assets/js/5.b38e3d50.js"><link rel="prefetch" href="/assets/js/6.c9ad8199.js"><link rel="prefetch" href="/assets/js/7.c88e42d6.js"><link rel="prefetch" href="/assets/js/8.72d46c8e.js"><link rel="prefetch" href="/assets/js/9.7b720d03.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2dae5f2c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Guía de apoyo</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  Guía
</a></div><div class="nav-item"><a href="/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="https://v1.vuepress.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  Guía
</a></div><div class="nav-item"><a href="/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="https://v1.vuepress.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Guia</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/" aria-current="page" class="sidebar-link">Introducción</a></li><li><a href="/guide/vue_instalacion.html" class="sidebar-link">Vue instalación 💾</a></li><li><a href="/guide/vue_npm.html" class="sidebar-link">Agregando vue por NPM</a></li><li><a href="/guide/vue_cli.html" class="sidebar-link">Vue cli 3</a></li><li><a href="/guide/deploy.html" class="sidebar-link">Deploy</a></li><li><a href="/guide/deploy_firebase.html" class="sidebar-link">Firebase</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="express-js-mvc"><a href="#express-js-mvc" class="header-anchor">#</a> Express.js (MVC)</h1> <h2 id="comenzando"><a href="#comenzando" class="header-anchor">#</a> Comenzando</h2> <p>Para comenzar, previamente debes instalar <strong>mongoDB</strong> <a href="https://docs.mongodb.com/manual/installation/#mongodb-community-edition-installation-tutorials" target="_blank" rel="noopener noreferrer">guiá de instalación aca<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>,
Una vez instalado mongo, en tu computador debemos crear una capeta para nuestro nuevo proyecto, luego de crearla
ábrela desde VSCODE 🤓 .</p> <p>Desde el terminal de vscode , debes colocar el siguiente comando el cual solo instalar el generador de proyectos de express</p> <div class="language- extra-class"><pre class="language-text"><code>npm install -g express-generator
</code></pre></div><p>para generar las carpetas necesarias para trabajar con express debemos colocar en el terminal</p> <div class="language- extra-class"><pre class="language-text"><code>express --view=ejs
</code></pre></div><p>El comando anterior generara una estructura de carpetas parecida a :</p> <p><img src="/assets/img/carpetas_creadas.d7125e6e.png" alt="alt text"></p> <p>ciertamente el archivo instalacion.md , no debe aparecer por que lo hice yo 😜</p> <p>Si luego en el mismo terminal colocas</p> <div class="language- extra-class"><pre class="language-text"><code>npm install
</code></pre></div><p>Luego que la instalacion finalize ya puedes iniciar el servidor con el comando</p> <div class="language- extra-class"><pre class="language-text"><code>npm run start
</code></pre></div><p>y pegas la siguiente url en el navegador</p> <div class="language- extra-class"><pre class="language-text"><code>http://127.0.0.1:3000/
</code></pre></div><p>podras visualizar la pagina de inicio de express</p> <p><img src="data:image/png;base64,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" alt="alt text"></p> <h2 id="modificando-package-json-para-agregar-las-dependencias-necesarias"><a href="#modificando-package-json-para-agregar-las-dependencias-necesarias" class="header-anchor">#</a> Modificando package.json, para agregar las dependencias necesarias</h2> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;m3-instalacion-express&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;private&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node ./bin/www&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nodemon ./bin/www&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;cookie-parser&quot;</span><span class="token operator">:</span> <span class="token string">&quot;~1.4.4&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;debug&quot;</span><span class="token operator">:</span> <span class="token string">&quot;~2.6.9&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ejs&quot;</span><span class="token operator">:</span> <span class="token string">&quot;~2.6.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;express&quot;</span><span class="token operator">:</span> <span class="token string">&quot;~4.16.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;http-errors&quot;</span><span class="token operator">:</span> <span class="token string">&quot;~1.6.3&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;morgan&quot;</span><span class="token operator">:</span> <span class="token string">&quot;~1.9.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;bcrypt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.0.6&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;bcryptjs&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.4.3&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cors&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.8.5&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mongoose&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.6.9&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;nodemon&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.19.1&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="modificando-app-js"><a href="#modificando-app-js" class="header-anchor">#</a> modificando app.js</h2> <p>Una vez modificado <em><strong>package.json</strong></em>, debemos modificar el archivos <em><strong>app.js</strong></em> esta en la raíz de nuestro proyecto</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> createError <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;http-errors&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;express&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> cookieParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;cookie-parser&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> logger <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;morgan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> cors <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;cors&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> indexRouter <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./routes/index&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> usersRouter <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./routes/users&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Import the mongoose module</span>
<span class="token keyword">var</span> mongoose <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;mongoose&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Set up default mongoose connection</span>
<span class="token keyword">var</span> mongoDB <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">MONGODB_URI</span> <span class="token operator">||</span> <span class="token string">&quot;mongodb://127.0.0.1:27017/test&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Connecting to database...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mongoose<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>mongoDB<span class="token punctuation">,</span> <span class="token punctuation">{</span> useNewUrlParser<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Get Mongoose to use the global promise library</span>
mongoose<span class="token punctuation">.</span>Promise <span class="token operator">=</span> global<span class="token punctuation">.</span>Promise<span class="token punctuation">;</span>
<span class="token comment">//Get the default connection</span>
<span class="token keyword">var</span> db <span class="token operator">=</span> mongoose<span class="token punctuation">.</span>connection<span class="token punctuation">;</span>
<span class="token comment">//Bind connection to error event (to get notification of connection errors) db.on('error', console.error.bind(console, 'MongoDB connection error:'));</span>
<span class="token comment">// cors</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token function">cors</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    origin<span class="token operator">:</span> <span class="token string">&quot;http://localhost:3000&quot;</span><span class="token punctuation">,</span>
    credentials<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// view engine setup</span>
app<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;views&quot;</span><span class="token punctuation">,</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;views&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;view engine&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ejs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">logger</span><span class="token punctuation">(</span><span class="token string">&quot;dev&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">urlencoded</span><span class="token punctuation">(</span><span class="token punctuation">{</span> extended<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">cookieParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;public&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> indexRouter<span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">&quot;/users&quot;</span><span class="token punctuation">,</span> usersRouter<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// catch 404 and forward to error handler</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token function">createError</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// error handler</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// set locals, only providing error in development res.locals.message = err.message;</span>
  res<span class="token punctuation">.</span>locals<span class="token punctuation">.</span>error <span class="token operator">=</span> req<span class="token punctuation">.</span>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;env&quot;</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;development&quot;</span> <span class="token operator">?</span> err <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// render the error page</span>
  res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>status <span class="token operator">||</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> port <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">PORT</span> <span class="token operator">||</span> <span class="token number">3000</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;The magic happens on port &quot;</span> <span class="token operator">+</span> port <span class="token operator">+</span> <span class="token string">&quot; http://localhost:3000/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> app<span class="token punctuation">;</span>
</code></pre></div><p>luego de eso debemos volver a correr el comando</p> <div class="language- extra-class"><pre class="language-text"><code>npm install
</code></pre></div><h2 id="controllers-y-models"><a href="#controllers-y-models" class="header-anchor">#</a> Controllers y Models</h2> <p>Para continuar debemos crear una capeta llamada</p> <div class="language- extra-class"><pre class="language-text"><code> controllers
</code></pre></div><p>y otra llamada</p> <div class="language- extra-class"><pre class="language-text"><code> models
</code></pre></div><p><img src="/assets/img/carpeta_controller_models.e3fc3414.png" alt="alt text"></p> <h3 id="creando-archivos"><a href="#creando-archivos" class="header-anchor">#</a> Creando archivos</h3> <h4 id="models"><a href="#models" class="header-anchor">#</a> Models</h4> <p>Dentro de la carpeta models , creamos un archivos llamado users.js y copiamos el siguiente código.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> mongoose <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;mongoose&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> bcrypt <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;bcryptjs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Schema <span class="token operator">=</span> mongoose<span class="token punctuation">.</span>Schema<span class="token punctuation">;</span>

<span class="token comment">//definimos el modelo para nuestro modelo </span>
<span class="token keyword">var</span> userSchema <span class="token operator">=</span> <span class="token function">Schema</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name        <span class="token operator">:</span> <span class="token punctuation">{</span> type <span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> required<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  lastname    <span class="token operator">:</span> <span class="token punctuation">{</span> type <span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> required<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  password    <span class="token operator">:</span> <span class="token punctuation">{</span> type <span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> required<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  created_at  <span class="token operator">:</span> <span class="token punctuation">{</span> type <span class="token operator">:</span> Date<span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token operator">:</span> Date<span class="token punctuation">.</span>now <span class="token punctuation">}</span><span class="token punctuation">,</span>
  updated_at  <span class="token operator">:</span> <span class="token punctuation">{</span> type <span class="token operator">:</span> Date<span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token operator">:</span> Date<span class="token punctuation">.</span>now <span class="token punctuation">}</span><span class="token punctuation">,</span>
  deleted     <span class="token operator">:</span> <span class="token punctuation">{</span> type <span class="token operator">:</span> Boolean<span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>collection<span class="token operator">:</span> <span class="token string">'user'</span><span class="token punctuation">,</span> usePushEach<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//hooks</span>

userSchema<span class="token punctuation">.</span><span class="token function">pre</span><span class="token punctuation">(</span><span class="token string">'save'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">next</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
  <span class="token keyword">var</span> user <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token comment">// only hash the password if it has been modified (or is new)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>user<span class="token punctuation">.</span><span class="token function">isModified</span><span class="token punctuation">(</span><span class="token string">'password'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token keyword">typeof</span> user<span class="token punctuation">.</span>password <span class="token operator">!=</span> <span class="token string">'undefined'</span> <span class="token punctuation">)</span><span class="token punctuation">{</span> 
    bcrypt<span class="token punctuation">.</span><span class="token function">genSalt</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> salt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      bcrypt<span class="token punctuation">.</span><span class="token function">hash</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>password<span class="token punctuation">,</span> salt<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> hash</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        user<span class="token punctuation">.</span>password <span class="token operator">=</span> hash<span class="token punctuation">;</span>
        <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// create the model for users and expose it to our app</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> mongoose<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token string">'User'</span><span class="token punctuation">,</span> userSchema<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="controllers"><a href="#controllers" class="header-anchor">#</a> Controllers</h4> <p>Luego dentro de la carpeta controllers creamos un archivos llamado users.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> User <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../models/users'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

exports<span class="token punctuation">.</span><span class="token function-variable function">user_create</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>body<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> items <span class="token operator">=</span> req<span class="token punctuation">.</span>body
    User<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>items<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> newUsers</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> error<span class="token operator">:</span> err <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>newUsers<span class="token punctuation">)</span> 
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> 
  <span class="token keyword">else</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span>status<span class="token operator">:</span> <span class="token string">'ERROR'</span><span class="token punctuation">,</span> message<span class="token operator">:</span> <span class="token string">'Debe completar todos los campos'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//opcional mandar un mensaje de error</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="editando-routes"><a href="#editando-routes" class="header-anchor">#</a> Editando routes</h2> <p>Luego de editar el controlador debemos editar la ruta,entramos a la carpeta routes y modificamos el archivos <em><strong>users.js</strong></em> ,donde el controlador sera invocado.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> userController <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../controllers/users'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* GET users listing. */</span>
router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">{</span>status<span class="token operator">:</span><span class="token string">&quot;Estamos trabajando para traer los datos -- intente mañana XD&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* Post user  */</span>
router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
  userController<span class="token punctuation">.</span><span class="token function">user_create</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> router<span class="token punctuation">;</span>
</code></pre></div><h3 id="views"><a href="#views" class="header-anchor">#</a> views</h3> <p>Una vez editada la ruta de usuarios para recibir un post y guardarlo en la base de datos <strong>mongoDB</strong>, debemos crear un formulario en la carpeta views , para eso editaremos el archivo <strong>index.ejs</strong></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>&lt;%= title %&gt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>stylesheet<span class="token punctuation">'</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>/stylesheets/style.css<span class="token punctuation">'</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Mi Formulario en &lt;%= title %&gt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/users<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>POST<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Nombre<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Apellido<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lastname<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Contraseña<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>con nuestro modelo vista controlador instalado podemos correr el comando en el terminal</p> <div class="language- extra-class"><pre class="language-text"><code>npm run dev

</code></pre></div><p>si todo sale bien en teoría podrías ver:</p> <p><img src="/assets/img/vistaFormulario.327a8841.png" alt="alt text"></p> <p>en esta url <a href="http://localhost:3000/" target="_blank" rel="noopener noreferrer">http://localhost:3000/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="sesion-2"><a href="#sesion-2" class="header-anchor">#</a> sesión 2</h2> <p>Una vez hecho los pasos anteriores , lo que nos faltaría seria mostrar los
usuario ingresados. Para esto debemos ir a controllers users.js
y modificar dicho archivo , lo que haremos sera agregar otra función llamada</p> <div class="language-js extra-class"><pre class="language-js"><code>exports<span class="token punctuation">.</span><span class="token function-variable function">user_get</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> users <span class="token operator">=</span> <span class="token keyword">await</span> User<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">//otra lógica</span>
  <span class="token keyword">return</span> users<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><em><strong>agregando esas lineas al archivos users.js en controllers ,dicho archivo debe quedar de la siguiente forma</strong></em></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> User <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../models/users'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

exports<span class="token punctuation">.</span><span class="token function-variable function">user_create</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>body<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> items <span class="token operator">=</span> req<span class="token punctuation">.</span>body
    User<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>items<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> newUsers</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> error<span class="token operator">:</span> err <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>newUsers<span class="token punctuation">)</span> 
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> 
  <span class="token keyword">else</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span>status<span class="token operator">:</span> <span class="token string">'ERROR'</span><span class="token punctuation">,</span> message<span class="token operator">:</span> <span class="token string">'Debe completar todos los campos'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//opcional mandar un mensaje de error</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

exports<span class="token punctuation">.</span><span class="token function-variable function">user_get</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> users <span class="token operator">=</span> <span class="token keyword">await</span> User<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">//otra lógica</span>
  <span class="token keyword">return</span> users<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="editando-rutas"><a href="#editando-rutas" class="header-anchor">#</a> Editando rutas</h3> <p>Una vez editado el controlado debemos dirigirnos a la carpeta <em><strong>routes</strong></em> y modificaremos
el archivo <em><strong>users.js</strong></em></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> userController <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../controllers/users'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* GET users listing. */</span>
router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token keyword">await</span> userController<span class="token punctuation">.</span><span class="token function">user_get</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next<span class="token punctuation">)</span><span class="token punctuation">;</span>
  res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'users'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> result <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* Post user  */</span>
router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
  userController<span class="token punctuation">.</span><span class="token function">user_create</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> router<span class="token punctuation">;</span>
</code></pre></div><h3 id="editando-la-vista"><a href="#editando-la-vista" class="header-anchor">#</a> Editando la vista</h3> <p>Una vez hechos los pasos anteriores los que nos faltaría seria editar alguna vista
donde poder mostrar los resultados, en este caso de ejemplo modificaremos el archivo
<em><strong>users.ejs</strong></em></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Lista de usuarios<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
      &lt;% result.forEach(function(user){ %&gt;
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>&lt;%= user.name %&gt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      &lt;% }); %&gt;
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.871a14ca.js" defer></script><script src="/assets/js/2.d53447ec.js" defer></script><script src="/assets/js/4.d8a20a0b.js" defer></script>
  </body>
</html>
